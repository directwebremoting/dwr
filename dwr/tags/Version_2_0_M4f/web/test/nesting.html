<html>
<head>
  <script type='text/javascript' src='../dwr/util.js'></script>
</head>
<body>


<form action="imageUpload" method="post" encType="multipart/form-data">
  <table border="0" cellspacing="0" cellpadding="5">
    <tr>
      <td width="10%">User Name</td>
      <td><input id="pfx.userName" type="text" value="jdoe"><br></td>
    </tr>

    <tr>
      <td width="10%">City</td>
      <td><input id="pfx.address.city" type="text" value="McLean"><br></td>
    </tr>
    <tr>
      <td width="10%">State</td>
      <td><input id="pfx.address.state" type="text" value="VA"><br></td>
    </tr>
    <tr>
      <td width="10%">Password</td>
      <td><input id="pfx.password" type="text" value="xyz"><br></td>
    </tr>
    <tr>
      <td width="10%">Company</td>
      <td><input id="pfx.company.name" type="text" value="Microsoft"><br></td>
    </tr>
    <tr>
      <td width="10%">Ticker</td>
      <td><input id="pfx.company.symbol.ticker" type="text" value="MSFT"><br></td>
    </tr>
    <tr>
      <td>
        <input type="button" value="Test Nested GetValues" onclick="testNestedGetValues()"/>
      </td>
      <td>
        <input type="button" value="Test Nested SetValues" onclick="testNestedSetValues()"/>
      </td>
    </tr>
  </table>
</form>

<pre>

function testNestedGetValues() {
  var user = { userName:null, address :{ city:null, state:null}, password:"", company : {name : null, symbol : {ticker:null} } };
  dwr.util.getValues(user, {prefix : "pfx"});

  //fyi dwr.util.toDescriptiveString does not display the String representation of the 2 level deep nested property although
  //it is being set correctly on the object
  alert(dwr.util.toDescriptiveString(user, 1));
}

function testNestedSetValues() {
  var user = { userName:"sjivan", address :{ city:"allston", state:"ma"}, password:"foobar", company : {name : "i2 Technologies", symbol : {ticker:"ITWO"} } };
  dwr.util.setValues(user, {prefix : "pfx"});
}

</pre>

<script type="text/javascript">

  function testNestedGetValues() {
    var user = { userName:null, address :{ city:null, state:null}, password:"", company : {name : null, symbol : {ticker:null} } };
    dwr.util.getValues(user, {prefix : "pfx"});

    //fyi dwr.util.toDescriptiveString does not display the String representation of the 2 level deep nested property although
    //it is being set correctly on the object
    alert(dwr.util.toDescriptiveString(user, 1));
  }

  function testNestedSetValues() {
    var user = { userName:"sjivan", address :{ city:"allston", state:"ma"}, password:"foobar", company : {name : "i2 Technologies", symbol : {ticker:"ITWO"} } };
    dwr.util.setValues(user, {prefix : "pfx"});
  }

</script>
</body>
</html>
