<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>DWR - Test Home</title>
  <script type='text/javascript' src='dwr/interface/Test.js'></script>
  <script type='text/javascript' src='dwr/engine.js'></script>
  <script type='text/javascript' src='dwr/util.js'></script>
  <script>
    function init() {
      // This turns off the no-javascript message
      document.getElementById("start").style.display = "none";
      // This checks for file: URLs and loading problems
      if (window.DWREngine == null || window.DWRUtil == null) {
        document.getElementById("file").style.display = "block";
        return;
      }
      // DWR setup
      DWREngine.setErrorHandler(function(message) { alert(message); });
      DWREngine.setWarningHandler(function(message) { alert(message); });
      DWRUtil.useLoadingMessage();
      // Turn on the generic error div
      $("error").style.display = "block";
      // Load a message from the server
      Test.getInsert(load);
    }

    function load(data) {
      $("error").style.display = "none";
      DWRUtil.setValue("reply", data);
      $("reply").style.display = "block";
    }
  </script>
</head>

<body onload="init()">

<div id="start">
  <h1>DWR is testing installation ...</h1>
  <p>
    DWR uses Javascript to make some initial checks. If you can see this message
    then either you are a very fast reader, or Javascript is not working
    properly in your browser.
  </p>
  <p>
    Since AJAX requires Javascript, you will need to enable Javascript in your
    browser before you can test DWR. Some very old browsers like IE 4.0 have
    very out of date support for Javascript and are currently unsupported.
    Please upgrade your browser.
  </p>
</div>

<div id="reply" style="display:none;">
  <h1>DWR is partially working</h1>
  <p>
    DWR has received test data from the server, however for some reason this
    data was mangled. Please report this error to the
    <a href="https://dwr.dev.java.net/servlets/ProjectMailingListList">DWR
    mailing list</a>, including your browser, server, OS configuration and any
    error messages that appeared either in the browser (including the Javascript
    console if one exists) and the server console log.
  </p>
</div>

<div id="file" style="display:none;">
  <h1>Missing DWR Javascript Functions</h1>
  <p>
    This is a fairly advanced page that tests DWR to check that everything is
    setup properly for you.
  </p>
  <p>
    It appears that you may be attempting to run DWR outside a servlet container
    (possibly using a file: URL). We think this because this page has missing
    Javascript functions that should have been produced by DWR. To fix the
    problem please use DWR from within a servlet container.
  </p>
  <p>
    If this is not the cause of the problem, please report it to the
    <a href="https://dwr.dev.java.net/servlets/ProjectMailingListList">DWR
    mailing list</a>, including your browser, server, OS configuration and any
    error messages that appeared either in the browser (including the Javascript
    console if one exists) and the server console log.
  </p>
</div>

<div id="error" style="display:none;">
  <h1>DWR is testing installation ...</h1>
  <p>
    This is a fairly advanced page that tests DWR. If you can see this message
    for a prolonged period of time then you should check the following:
  </p>
  <ul>
    <li>
      Can you see the <a href="dwr/">test pages</a>?<br/>
      If not it is likely that DWR has not deployed in your web server properly;
      Check the web server console and log files for error messages.
    </li>
    <li>
      If you can see the <a href="dwr/">test pages</a> then DWR is loaded but is
      something is preventing DWR working. Check your browser Javascript console
      for error messages, or see the <a href="http://getahead.ltd.uk">main
      DWR website</a> for more information.
    </li>
  </ul>
  <p>
    If none of these steps fixes the error, please report it to the
    <a href="https://dwr.dev.java.net/servlets/ProjectMailingListList">DWR
    mailing list</a>, including your browser, server, OS configuration and any
    error messages that appeared either in the browser (including the Javascript
    console if one exists) and the server console log.
  </p>
</div>

<div id="more">
  <p>
    For general information about DWR see:
  </p>
  <ul>
    <li>The <a href="http://getahead.ltd.uk/dwr/">main DWR website</a>.</li>
    <li>The <a href="https://dwr.dev.java.net/">Java.net pages</a>.</li>
    <li><a href="http://getahead.ltd.uk/blog/joe/">Joe Walker's blog</a>.</li>
    <li>The <a href="http://en.wikipedia.org/wiki/DWR">DWR page</a> at Wikipedia.</li>
  </ul>
</div>

</body>
</html>
