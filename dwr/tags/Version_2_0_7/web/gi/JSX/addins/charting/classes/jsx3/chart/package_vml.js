/*
 * Copyright (c) 2001-2007, TIBCO Software Inc.
 * Use, modification, and distribution subject to terms of license.
 */
jsx3.Package.definePackage("jsx3.chart",function(s){s.q2=s.ADDIN.getVersion();s.qN=s.ADDIN.getPath()+"properties/";s.mK=s.ADDIN.getPath()+"events/";s.LOG=jsx3.util.Logger.getLogger(s.jsxpackage.getName());s.LOG_BENCH=jsx3.util.Logger.getLogger(s.jsxpackage.getName()+".benchmark");s.QTOP="top";s.QRIGHT="right";s.QBOTTOM="bottom";s.QLEFT="left";s.splitBox=function(k,n,i,o,b,l,h){var J=null,zb=null;if(b==s.QTOP){J=[k,n,i,Math.min(h,o-1)];zb=[k,n+J[3],i,o-J[3]];}else{if(b==s.QRIGHT){var H=Math.min(l,i-1);J=[k+i-H,n,H,o];zb=[k,n,i-H,o];}else{if(b==s.QBOTTOM){var x=Math.min(h,o-1);J=[k,n+o-x,i,x];zb=[k,n,i,o-x];}else{if(b==s.QLEFT){J=[k,n,Math.min(l,i-1),o];zb=[k+J[2],n,i-J[2],o];}}}}return [J,zb];};s.isValueAxis=function(n){return s.LinearAxis&&n instanceof s.LinearAxis||s.LogarithmicAxis&&n instanceof s.LogarithmicAxis;};s.isCategoryAxis=function(g){return s.CategoryAxis&&g instanceof s.CategoryAxis;};s.o9=function(m){if(m==null)return null;var v=m.split(/\s*[,;]\s*/);if(v[0]==="")v.shift();if(v.length>0&&v[v.length-1]==="")v.pop();return v;};s.asNumber=function(l){if(l==null)return null;if(typeof(l)=="number")return l;return new Number(l);};s.parseGradient=function(o){if(!o)return null;var Cb=o.split(/\s+/);if(Cb[0]==="")Cb.shift();if(Cb.length>0&&Cb[Cb.length-1]==="")Cb.pop();if(Cb.length==0)return null;if(Cb.length>4)return [Cb[0],Cb[1],Cb[2],Cb.slice(3).join(" ")];return Cb;};s.addGradient=function(a,c){var Zb=s.parseGradient(c);if(a!=null&&Zb!=null){var mc=new jsx3.vector.Fill(a.getColor(),a.getAlpha());mc.setType("gradient");mc.setColor2(Zb[0]);mc.setAngle(Zb[1]);mc.setAlpha2(Zb[2]);mc.setColors(Zb[3]);return mc;}else{return a;}};});if(jsx3.IDE){jsx3.ide.loadTemplateCatalog("prop","properties/catalog.xml",jsx3.chart.ADDIN);jsx3.ide.loadTemplateCatalog("event","events/catalog.xml",jsx3.chart.ADDIN);}jsx3.Package.definePackage("jsx3.vector",function(g){g.n1="px";g.PQ="v";g.eZ=function(e){return typeof(e)=="number"?"#"+(e+16777216).toString(16).substring(1):""+e;};g.x0=function(b,i,j){if(b==null)b=0;if(i==null)i=g.n1;if(typeof(b)=="number"){return b+""+i;}else{b=b.toString();b=b.replace(/^\s*(.*?)\s*$/,"$1");if(j)b=b.replace(/[^\d\.]/g,"");return b.match(/[^\d\.]/)?b:b+""+i;}};g.AP=function(o,n){return g.x0(o)+","+g.x0(n);};g.ZO=function(o,n){return g.x0(o,"",true)+" "+g.x0(n,"",true);};g.F0=function(r){return Math.max(0,Math.min(1,r));};g.degreesToRadians=function(k){return Math.modpos(2*Math.PI/360*(-1*k+90),2*Math.PI);};});jsx3.Class.defineClass("jsx3.html.Tag",null,null,function(g,q){var Kb=jsx3.Exception;g.Jg=[];q.ij=null;q.vo=null;if(jsx3.CLASS_LOADER.VML){q.init=function(e,m){this.ij=m;this.vo=e;this.nD=document.createElement(e?e+":"+m:m);this.vu=null;this.yg=null;};q.appendChild=function(c){if(this._P(c)){if(c instanceof g&&c.getParent()!=null){throw new Kb("can't append "+c+" to "+this+", already has parent "+c.vu);}if(this.yg==null)this.yg=[];this.yg.push(c);c.vu=this;}else{throw new Kb("Illegal to append child "+c+" to parent "+this+".");}};q.removeChild=function(d){if(this.yg){var Pb=this.yg.indexOf(d);if(Pb>=0){this.yg[Pb].vu=null;this.yg.splice(Pb,1);}}};q.replaceChild=function(h,i){if(this.yg){var I=this.yg.indexOf(i);if(I>=0){this.yg[I].vu=null;this.yg[I]=h;h.vu=this;}}};q.removeChildren=function(){if(this.yg)this.yg.splice(0,this.yg.length);};}else{if(jsx3.CLASS_LOADER.SVG){q.init=function(f,n){this.ij=n;this.vo=f;if(n)this.nD=f?document.createElementNS(f,n):document.createElement(n);this.vu=null;this.yg=null;};q.appendChild=function(n){if(this._P(n)){if(n instanceof g&&n.getParent()!=null){throw new Kb("can't append "+n+" to "+this+", already has parent "+n.vu);}if(this.yg==null)this.yg=[];this.yg.push(n);n.vu=this;this.nD.appendChild(n.nD);}else{throw new Kb("Illegal to append child "+n+" to parent "+this+".");}};q.removeChild=function(d){if(this.yg){var wb=this.yg.indexOf(d);if(wb>=0){this.yg[wb].vu=null;this.yg.splice(wb,1);}}this.nD.removeChild(d.nD);};q.replaceChild=function(j,e){if(this.yg){var W=this.yg.indexOf(e);if(W>=0){this.yg[W].vu=null;this.yg[W]=j;j.vu=this;}}this.nD.replaceChild(j.nD,e.nD);};q.removeChildren=function(){if(this.yg)this.yg.splice(0,this.yg.length);var hc=this.nD.childNodes;for(var Kc=hc.length-1;Kc>=0;Kc--)this.nD.removeChild(hc[Kc]);};}}q.getParent=function(){return this.vu;};q.getChildren=function(){return this.yg==null?g.Jg:this.yg;};q.getId=function(){return this.nD.id;};q.setId=function(l){this.setProperty("id",l);};q.getClassName=function(){return this.nD.className;};q.setClassName=function(n){this.setProperty("className",n);};q.setExtraStyles=function(f){try{this.nD.style.cssText+=(";"+f);}catch(Kc){throw new Kb("Error appending '"+f+"' to 'cssText': "+jsx3.NativeError.wrap(Kc));}};q.release=function(){delete this.vu;if(this.yg){for(var gc=this.yg.length-1;gc>=0;gc--){if(this.yg[gc].release)this.yg[gc].release();}delete this.yg;}};q._P=function(n){return true;};q._T=function(o){return true;};q.setProperty=function(j,e){var Ic=arguments;for(var Ec=0;Ec<Ic.length;Ec=Ec+2){j=Ic[Ec];e=Ic[Ec+1];if(e!=null)this.nD.setAttribute(j,e);else this.nD.removeAttribute(j);}};if(jsx3.CLASS_LOADER.SVG){q.setPropertyNS=function(b,a,n){if(n!=null)this.nD.setAttributeNS(b,a,n);else this.nD.removeAttributeNS(b,a);};}q.getProperty=function(i){return this.nD.getAttribute(i);};q.removeProperty=function(l){var S=arguments;for(var ec=0;ec<S.length;ec++)this.nD.removeAttribute(S[ec]);};q.setStyle=function(m,b){var Db=arguments;for(var G=0;G<Db.length;G=G+2){m=Db[G];b=Db[G+1];try{this.nD.style[m]=b==null?"":b;}catch(Kc){throw new Kb("Error setting style '"+m+"' to '"+b+"': "+jsx3.NativeError.wrap(Kc));}}};q.getStyle=function(l){return this.nD.style[l];};q.removeStyle=function(s){var lb=arguments;for(var Jc=0;Jc<lb.length;Jc++)this.nD.style[lb[Jc]]="";};q.getTagName=function(){return this.ij;};q.getTagNS=function(){return this.vo;};if(jsx3.CLASS_LOADER.VML){q.paint=function(){this.paintUpdate();var ec=[];var D=this.k1(ec,0);return ec.slice(0,D).join("");};q.k1=function(k,s){var gb=this.yg;var ac=jsx3.html.getOuterHTML(this.nD);ac=ac.replace(/^<(\w+(\:\w+)?)\b/,function(d,f){return "<"+f.toLowerCase();});ac=ac.replace(/\b([_a-zA-Z]\w*)=([^\s\"]+) /g,"$1=\"$2\" ");var F=ac.lastIndexOf("</");if(F>=0&&ac.substring(F).indexOf(this.nD.nodeName)!=2)F=-1;if(gb!=null&&gb.length>0){var L=null,T=null;if(F>=0){L=ac.substring(0,F);T=ac.substring(F);}else{L=ac;T="</"+this.nD.nodeName.toLowerCase()+">";}k[s++ ]=L;for(var Wb=0;Wb<gb.length;Wb++){var Zb=gb[Wb];if(typeof(Zb)=="string")k[s++ ]=Zb;else s=Zb.k1(k,s);}k[s++ ]=T;}else{if(F>=0)k[s++ ]=ac.substring(0,F-1);else k[s++ ]=ac.substring(0,ac.length-1);k[s++ ]="/>";}return s;};}else{if(jsx3.CLASS_LOADER.SVG){q.paintDom=function(){this.paintUpdate();return this.nD;};}}q.paintUpdate=function(){var sb=this.yg;if(sb){for(var L=0;L<sb.length;L++)sb[L].paintUpdate();}};q.toString=function(){return "<"+this.getTagName()+"#"+this.getId()+"/>";};q.getFirstChildOfType=function(m){if(typeof(m)=="string")m=jsx3.Class.forName(m).getConstructor();if(this.yg){var tb=this.yg;for(var Fb=0;Fb<tb.length;Fb++){if(tb[Fb] instanceof m)return tb[Fb];}}return null;};});jsx3.Class.defineClass("jsx3.html.Text",jsx3.html.Tag,null,function(q,g){if(jsx3.CLASS_LOADER.VML){g.init=function(p){this.Iw=p;};g.k1=function(a,j){a[j]=this.Iw;return j+1;};g.getText=function(){return this.Iw;};g.setText=function(b){this.Iw=b;};g.paint=function(){return this.Iw;};}else{if(jsx3.CLASS_LOADER.SVG){g.init=function(n){this.nD=document.createTextNode(n!=null?n:"");};g.getText=function(){return this.nD.nodeValue;};g.setText=function(l){this.nD.nodeValue=l;};}}g._P=function(k){return false;};g.toString=function(){return "[jsx3.html.Text \""+this.getText()+"\"]";};});jsx3.Class.defineClass("jsx3.html.BlockTag",jsx3.html.Tag,null,function(b,l){l.init=function(c,q,r,e,h,f){this.jsxsuper(c,q);this.setDimensions(r,e,h,f);};l.getLeft=function(){var Kc=this.getStyle("left");return Kc!=null?parseInt(Kc):null;};l.xi=function(q,m){if(m==null){this.setStyle(q,null);}else{var P=parseInt(m);if(isNaN(P))jsx3.chart.LOG.debug("trying to set "+q+" of "+this+" to "+m);else this.setStyle(q,P+"px");}};l.setLeft=function(a){this.xi("left",a);};l.getTop=function(){var qb=this.getStyle("top");return qb!=null?parseInt(qb):null;};l.setTop=function(r){this.xi("top",r);};l.getWidth=function(){var Ic=this.getStyle("width");return Ic!=null?parseInt(Ic):null;};l.setWidth=function(a){this.xi("width",a);};l.getHeight=function(){var ub=this.getStyle("height");return ub!=null?parseInt(ub):null;};l.setHeight=function(i){this.xi("height",i);};l.getMargin=function(){return this.getStyle("margin");};l.setMargin=function(o){this.setStyle("margin",o);};l.getPadding=function(){return this.getStyle("padding");};l.setPadding=function(a){this.setStyle("padding",a);};l.getPosition=function(){return this.getStyle("position");};l.setPosition=function(j){this.setStyle("position",j);};l.getZIndex=function(){return this.getStyle("zIndex");};l.setZIndex=function(m){this.setStyle("zIndex",m);};l.getBackgroundColor=function(){return this.getStyle("backgroundColor");};l.setBackgroundColor=function(c){this.setStyle("backgroundColor",c);};l.getMarginDimensions=function(){return b.nR(this.getMargin());};l.getPaddingDimensions=function(){return b.nR(this.getPadding());};b.nR=function(c){if(c){if(typeof(c)=="number"){return [c,c,c,c];}else{var v=(""+c).split(/[^\d\-]+/);if(v[0]==="")v.shift();if(v.length>0&&v[v.length]==="")v.pop();if(v.length>=4){return [parseInt(v[0]),parseInt(v[1]),parseInt(v[2]),parseInt(v[3])];}else{if(v.length>=1){var G=parseInt(v[0]);return [G,G,G,G];}}}}return [0,0,0,0];};l.getDimensions=function(){return [this.getLeft(),this.getTop(),this.getWidth(),this.getHeight()];};l.setDimensions=function(k,n,i,o){if(k instanceof Array){this.setLeft(k[0]);this.setTop(k[1]);this.setWidth(k[2]);this.setHeight(k[3]);}else{this.setLeft(k);this.setTop(n);this.setWidth(i);this.setHeight(o);}};});jsx3.Class.defineInterface("jsx3.html.FontTag",null,function(q,s){s.getFontFamily=function(){return this.getStyle("fontFamily");};s.setFontFamily=function(a){this.setStyle("fontFamily",a);};s.getFontSize=function(){return this.getStyle("fontSize");};s.setFontSize=function(h){this.setStyle("fontSize",isNaN(h)?h:h+"px");};s.getFontStyle=function(){return this.getStyle("fontStyle");};s.setFontStyle=function(f){this.setStyle("fontStyle",f);};s.getFontWeight=function(){return this.getStyle("fontWeight");};s.setFontWeight=function(e){this.setStyle("fontWeight",e);};s.getTextAlign=function(){return this.getStyle("textAlign");};s.setTextAlign=function(l){this.setStyle("textAlign",l);};s.getTextDecoration=function(){return this.getStyle("textDecoration");};s.setTextDecoration=function(j){this.setStyle("textDecoration",j);};s.getColor=function(){return this.getStyle("color");};s.setColor=function(r){this.setStyle("color",r);};});jsx3.Class.defineClass("jsx3.vector.Canvas",jsx3.html.BlockTag,null,function(s,a){a.init=function(m,p,g,q){this.jsxsuper(jsx3.vector.PQ,"group",m,p,g,q);this.setProperty("xmlns:v","urn:schemas-microsoft-com:vml");};a.paintUpdate=function(){this.jsxsuper();if(this.getWidth()&&this.getHeight()){this.setProperty("coordsize",jsx3.vector.ZO(parseInt(this.getWidth()),parseInt(this.getHeight())));}else{this.setProperty("coordsize",jsx3.vector.ZO(100,100));}if(this.getPosition()!="absolute"){this.setLeft(null);this.setTop(null);}};});jsx3.Class.defineClass("jsx3.vector.Tag",jsx3.html.BlockTag,null,function(o,f){f.init=function(h,d,g,p,c){this.jsxsuper(jsx3.vector.PQ,h,d,g,p,c);};f.getToolTip=function(){return this.getProperty("title");};f.setToolTip=function(d){this.setProperty("title",d);};f.getRotation=function(){return this.getStyle("rotation");};f.setRotation=function(b){this.setStyle("rotation",b);};f.paintUpdate=function(){this.jsxsuper();var tc=this.getParent();if(this.getWidth()&&this.getHeight()){this.setProperty("coordsize",jsx3.vector.ZO(parseInt(this.getWidth()),parseInt(this.getHeight())));}else{this.removeProperty("coordsize");}};});jsx3.Class.defineClass("jsx3.vector.Stroke",jsx3.html.Tag,null,function(m,s){var gb=jsx3.vector;m.D1="stroke";s.init=function(p,j,h){this.jsxsuper(gb.PQ,m.D1);this.Vt=null;this.iD=p!=null?p:0;this.Ul=j!=null?j:1;this.Vz=h!=null?gb.F0(h):1;};s.getColor=function(){return this.iD;};s.getColorHtml=function(){return gb.eZ(this.iD);};s.setColor=function(e){this.iD=e;};s.getWidth=function(){return this.Ul;};s.setWidth=function(n){this.Ul=n;};s.getAlpha=function(){return this.Vz;};s.setAlpha=function(p){this.Vz=p!=null?gb.F0(p):null;};s._P=function(n){return false;};s.toString=function(){return "<stroke "+this.getColorHtml()+" "+this.Ul+" "+this.Vz+"/>";};s.paint=function(){var qb="<"+gb.PQ+":"+this.getTagName();if(this.getId()!=null)qb=qb+(" id='"+this.getId()+"'");var db=this.getColorHtml();if(this.Vt!=null)qb=qb+(" on='"+this.Vt+"'");if(db!=null)qb=qb+(" color='"+db+"'");if(this.Vz!=null&&this.Vz<1)qb=qb+(" opacity='"+this.Vz+"'");if(this.Ul!=null)qb=qb+(" weight='"+gb.x0(this.Ul)+"'");qb=qb+"/>";return qb;};s.k1=function(i,b){i[b]=this.paint();return b+1;};s.KJ=function(){return this.Vz==1||this.Vz==null;};m.valueOf=function(k){if(jsx3.util.strEmpty(k))return null;if(k instanceof m)return k;var Db=k.toString().split(/\s+/);return new m(Db[0],Db[1],Db[2]);};});jsx3.Class.defineClass("jsx3.vector.Fill",jsx3.html.Tag,null,function(c,b){var gb=jsx3.vector;c.D1="fill";b.init=function(e,m){this.jsxsuper(gb.PQ,c.D1);this.Vt=null;this.iD=e!=null?e:0;this.Vz=m!=null?gb.F0(m):1;this.Se=null;this.Xm=null;this.Tp=null;this.xs=null;this.al=null;};b.getColor=function(){return this.iD;};b.getColorHtml=function(){return gb.eZ(this.iD);};b.setColor=function(s){this.iD=s;};b.getAlpha=function(){return this.Vz;};b.setAlpha=function(l){this.Vz=l!=null?gb.F0(l):null;};b.getType=function(){return this.Se;};b.setType=function(g){this.Se=g;};b.getColor2=function(){return this.Xm;};b.getColor2Html=function(){return gb.eZ(this.Xm);};b.setColor2=function(n){this.Xm=n;};b.getAlpha2=function(){return this.Tp;};b.setAlpha2=function(m){this.Tp=m;};b.getAngle=function(){return this.xs;};b.setAngle=function(l){this.xs=l;};b.getColors=function(){return this.al;};b.setColors=function(l){this.al=l;};b.toString=function(){return "<fill "+this.getColorHtml()+" "+this.getAlpha()+"/>";};b.paint=function(){var O="<"+gb.PQ+":"+this.getTagName();if(this.getId()!=null)O=O+(" id='"+this.getId()+"'");var mb=this.getColorHtml();if(this.Vt!=null)O=O+(" on='"+this.Vt+"'");if(mb!=null)O=O+(" color='"+mb+"'");if(this.Vz!=null&&this.Vz<1)O=O+(" opacity='"+this.Vz+"'");if(this.Se&&this.Se!="solid"){O=O+(" type='"+this.Se+"'");var yb=this.getColor2Html();if(yb!=null)O=O+(" color2='"+yb+"'");if(this.al!=null)O=O+(" colors='"+this.al+"'");if(this.xs!=null)O=O+(" angle='"+this.xs+"'");if(this.Tp!=null)O=O+(" o:opacity2='"+this.Tp+"'");}O=O+"/>";return O;};b.k1=function(i,f){i[f]=this.paint();return f+1;};b.KJ=function(){return (this.Vz==1||this.Vz==null)&&(!this.Se||this.Se=="solid");};c.valueOf=function(l){if(jsx3.util.strEmpty(l))return null;if(l instanceof c)return l;var pc=l.toString().split(/\s+/);return new c(pc[0],pc[1]);};b._P=function(o){return false;};});jsx3.Class.defineClass("jsx3.vector.Group",jsx3.vector.Tag,null,function(i,k){k.init=function(p,s,d,a){this.jsxsuper(i.D1,p,s,d,a);};i.D1="group";k._P=function(a){return a instanceof i||a instanceof jsx3.vector.Shape;};});jsx3.Class.defineClass("jsx3.vector.Shape",jsx3.vector.Tag,null,function(j,n){var _b=jsx3.html.Tag;var lb=jsx3.vector;n.init=function(b,e,h,o,i){this.jsxsuper(b!=null?b:j.D1,e,h,o,i);this.Rl=null;this.sw=null;};n.getPath=function(){return this.getProperty("path");};n.setPath=function(o){this.setProperty("path",o);};n.X6=function(q,p,h){this.vr((h?"t":"m")+" "+q+" "+p);return this;};n.Z7=function(m,l,d){this.vr((d?"r":"l")+" "+m+" "+l);return this;};n.XZ=function(p,o,g,f,i,m,e,l,a){this.vr((a?"wa":"at")+" "+(p-g)+" "+(o-f)+" "+(p+g)+" "+(o+f)+" "+i+" "+m+" "+e+" "+l);return this;};n.w9=function(){this.vr("x");return this;};n.vr=function(m){var sc=this.getPath();if(!sc)this.setPath(m);else this.setPath(sc+" "+m);};j.D1="shape";n.paintUpdate=function(){var Yb=this.getChildren().clone();for(var zb=0;zb<Yb.length;zb++){if(typeof(Yb[zb])=="string")this.removeChild(Yb[zb]);}this.jsxsuper();this.setProperty("filled",this.getFill()==null?"false":null,"stroked",this.getStroke()==null?"false":null);if(this.Rl!=null){if(this.Rl.KJ()){this.setProperty("filled",this.Rl.Vt!=null?this.Rl.Vt?"true":"false":null,"fillcolor",this.Rl.getColorHtml());}else{this.removeProperty("filled","fillcolor");this.appendChild(this.Rl.paint());}}if(this.sw!=null){if(this.sw.KJ()){var Dc=this.sw.getWidth();this.setProperty("stroked",this.sw.Vt!=null?this.sw.Vt?"true":"false":null,"strokecolor",this.sw.getColorHtml(),"strokeweight",Dc!=null?lb.x0(Dc):null);}else{this.removeProperty("stroked","strokecolor","strokeweight");this.appendChild(this.sw.paint());}}};n._P=function(o){return o instanceof lb.TextLine||o instanceof lb.Fill||o instanceof lb.Stroke||typeof(o)=="string";};n.setFill=function(p){this.Rl=p;};n.setStroke=function(i){this.sw=i;};n.getFill=function(){return this.Rl;};n.getStroke=function(){return this.sw;};});jsx3.Class.defineClass("jsx3.vector.Line",jsx3.vector.Shape,null,function(k,n){n.init=function(g,j,f,m,e,l){var Lc=Math.max(g,Math.max(f,e))-Math.min(g,Math.min(f,e));var Hc=Math.max(j,Math.max(m,l))-Math.min(j,Math.min(m,l));this.jsxsuper("line",g,j,Math.max(Lc,16),Math.max(Hc,16));this.IF=f;this.Yu=m;this.iG=e;this.QC=l;};n.fS=function(c,j,b,i){this.IF=c;this.Yu=j;this.iG=b;this.QC=i;var U=this.getLeft();var ic=this.getTop();var Lc=Math.max(U,Math.max(c,b))-Math.min(U,Math.min(c,b));var sc=Math.max(ic,Math.max(j,i))-Math.min(ic,Math.min(j,i));this.setWidth(Lc);this.setHeight(sc);};n.getX1=function(){return this.IF;};n.setX1=function(s){this.IF=s;};n.getY1=function(){return this.Yu;};n.setY1=function(d){this.Yu=d;};n.getX2=function(){return this.iG;};n.setX2=function(c){this.iG=c;};n.getY2=function(){return this.QC;};n.setY2=function(i){this.QC=i;};n.paintUpdate=function(){this.jsxsuper();this.removeProperty("coordsize");this.setProperty("from",jsx3.vector.ZO(this.IF,this.Yu),"to",jsx3.vector.ZO(this.iG,this.QC));};n.toString=function(){return "<line "+this.getId()+" {"+this.getX1()+","+this.getY1()+"} {"+this.getX2()+","+this.getY2()+"}/>";};});jsx3.Class.defineClass("jsx3.vector.Rectangle",jsx3.vector.Shape,null,function(r,i){i.init=function(p,s,d,a){this.jsxsuper("rect",p,s,d,a);};i.bI=function(p){this.ET(p.getLeft(),p.getTop(),p.getWidth(),p.getHeight());};i.ET=function(l,k,m,c){var xb=Math.max(this.getLeft(),l);var T=Math.max(this.getTop(),k);var vc=Math.min(this.getWidth()-(xb-this.getLeft()),l+m-xb);var Fb=Math.min(this.getHeight()-(T-this.getTop()),k+c-T);this.setDimensions(xb,T,vc,Fb);};i.paintUpdate=function(){this.jsxsuper();this.removeProperty("coordsize");};});jsx3.Class.defineClass("jsx3.vector.Oval",jsx3.vector.Shape,null,function(a,b){b.init=function(p,s,d,k){this.jsxsuper(a.D1,p,s,d,k);};a.D1="oval";b.paintUpdate=function(){this.jsxsuper();this.removeProperty("coordsize");};});jsx3.Class.defineClass("jsx3.vector.Polygon",jsx3.vector.Shape,null,function(r,o){o.init=function(k,n,q){this.jsxsuper("polyline",k,n);this.HG=null;this.XG=q;this.vG=q!=null?q.join(" "):null;};o.fS=function(i){this.HG=i;this.XG=null;this.vG=i!=null?i.join(" "):null;};o.OJ=function(b){this.HG=null;this.XG=b;this.vG=b!=null?b.join(" "):null;};o._Q=function(q){this.HG=null;this.XG=null;this.vG=q;};o.paintUpdate=function(){this.jsxsuper();this.setProperty("points",this.vG);};});jsx3.Class.defineClass("jsx3.vector.TextLine",jsx3.vector.Shape,[jsx3.html.FontTag],function(g,b){var bc=jsx3.html.Tag;var Ab=jsx3.app.Browser;var G=jsx3.vector;b.init=function(f,m,e,l,h){var Lc=Math.max(1,Math.max(f,e)-Math.min(f,e));var Hc=Math.max(1,Math.max(m,l)-Math.min(m,l));this.jsxsuper(null,f,m,Lc,Hc);this.setProperty("path","m 0 0 l "+(e-f)+" "+(l-m));this.ur=new bc(G.PQ,"textpath");this.ur.setProperty("on","true");this.Od=new bc(G.PQ,"path");this.Od.setProperty("textpathok","true");this.qu=new bc(G.PQ,"stroke");this.qu.setProperty("on","false");this.setText(h);};var ac="ur";var pb=jsx3.html.FontTag.jsxclass.getInstanceMethods();for(var Sb=0;Sb<pb.length;Sb++){var Ib=pb[Sb];b[Ib.getName()]=new Function("return jsx3.html.FontTag.prototype."+Ib.getName()+".apply(this."+ac+", arguments);");}var B=["getClassName","setClassName","setExtraStyles","setExtraStyles"];for(var Sb=0;Sb<B.length;Sb++){b[B[Sb]]=new Function("return jsx3.html.Tag.prototype."+B[Sb]+".apply(this."+ac+", arguments);");}b.setColor=function(i){if(i!=null&&i!="")this.setFill(new G.Fill(i));this.ur.setStyle("color",i);};b.getTextAlign=function(){return this.ur.getStyle("v-text-align");};b.setTextAlign=function(r){this.ur.setStyle("v-text-align",r);};b.getText=function(){return this.ur.getProperty("string");};b.setText=function(r){this.ur.setProperty("string",r);};b._P=function(h){var H=h.getTagName();return this.jsxsuper(h)||H=="path"||H=="textpath"||H=="stroke";};b.paintUpdate=function(){var Fb=null;if(this.getFill()==null){var tb=this.getColor();if(!tb){if(Fb==null)Fb=Ab.getStyleClass("."+this.getClassName())||Number(0);if(Fb)tb=Fb.color;}this.setFill(new G.Fill(tb||"#000000"));}if(!this.getTextAlign()){var Ec=this.ur.getStyle("textAlign");if(Ec==null){if(Fb==null)Fb=Ab.getStyleClass("."+this.getClassName())||Number(0);if(Fb)Ec=Fb.textAlign;}if(Ec)this.setTextAlign(Ec);}this.jsxsuper();this.setProperty("filled",this.getFill()==null?"false":"true","stroked",this.getStroke()==null?null:"true");if(this.ur.getParent()==null)this.appendChild(this.ur);if(this.Od.getParent()==null)this.appendChild(this.Od);if(this.getStroke()==null){if(this.qu.getParent()==null)this.appendChild(this.qu);}else{this.removeChild(this.qu);}};});jsx3.Class.defineClass("jsx3.vector.LineGroup",jsx3.vector.Shape,null,function(n,m){m.init=function(p,s,d,a){this.jsxsuper(null,p,s,d,a);};m.HS=function(h,o,g,b){this.X6(h,o).Z7(g,b);};m.aT=function(o,c,d,l){this.X6(o,c).Z7(d,l,true);};m.ZM=function(){this.setPath("");};});jsx3.Class.defineClass("jsx3.vector.RectangleGroup",jsx3.vector.Shape,null,function(h,r){r.init=function(p,s,d,a){this.jsxsuper(null,p,s,d,a);};r.C6=function(b,o,g,n){this.X6(b,o).Z7(g,o).Z7(g,n).Z7(b,n).w9();};r.pJ=function(o,c,q,m){this.X6(o,c).Z7(q,0,true).Z7(0,m,true).Z7(-1*q,0,true).w9();};r.OT=function(){this.setPath("");};});
