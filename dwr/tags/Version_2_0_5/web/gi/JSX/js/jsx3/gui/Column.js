/*
 * Copyright (c) 2001-2007, TIBCO Software Inc.
 * Use, modification, and distribution subject to terms of license.
 */
jsx3.require("jsx3.gui.Block");jsx3.Class.defineClass("jsx3.gui.Column",jsx3.gui.Block,null,function(n,b){n.DEFAULTWIDTH=100;n.DEFAULTCELLCLASSLIST="jsx30column_c1";n.DEFAULTCELLCLASSGRID="jsx30column_c3";n.TYPETEXT="text";n.TYPENUMBER="number";n.FIXED=0;n.RESIZEABLE=1;n.RESIZABLE=1;n.Fw="<xsl:choose><xsl:when test=\"@path@ and not(@path@='')\"><xsl:value-of select=\"@path@\"/></xsl:when><xsl:otherwise>&#160;</xsl:otherwise></xsl:choose>";n.At=jsx3.resolveURI("jsx:///images/list/sort_asc.gif");n.Wo=jsx3.resolveURI("jsx:///images/list/sort_desc.gif");jsx3.html.loadImages(n.At,n.Wo);n.Jr="&#160;";n.VALIGNTOP="top";n.VALIGNMIDDLE="middle";b.init=function(m,h,o,c){this.jsxsuper(m,null,null,o,null,h);if(c!=null)this.setPath(c);};b.onSetParent=function(h){return jsx3.gui.List&&h instanceof jsx3.gui.List;};b.onDestroy=function(q){return this.doEvent(jsx3.gui.Interactive.DESTROY,{objPARENT:q});};b.getDataType=function(){return this.jsxdatatype==null?n.TYPETEXT:this.jsxdatatype;};b.setDataType=function(d){this.jsxdatatype=d;return this;};b.getEditMask=function(){return this.jsxmask==null?null:this.jsxmask;};b.setEditMask=function(m){this.jsxmask=m;return this;};b.getResizable=function(){return this.jsxresize==null?jsx3.Boolean.TRUE:this.jsxresize;};b.setResizable=function(d){this.jsxresize=d;return this;};b.getPath=function(){return this.jsxpath==null?"@jsxid":this.jsxpath;};b.setPath=function(f){this.jsxpath=f;return this;};b.getSortPath=function(){return this.jsxsortpath!=null?this.jsxsortpath:this.getPath();};b.setSortPath=function(q){this.jsxsortpath=q;return this;};b.getWrap=function(){return this.jsxwrap==null?jsx3.Boolean.FALSE:this.jsxwrap;};b.setWrap=function(g){this.jsxwrap=g;return this;};b.getVAlign=function(){return this.jsxvalign==null?n.VALIGNTOP:this.jsxvalign;};b.setVAlign=function(o){this.jsxvalign=o;return this;};b.k7=function(){};b.paint=function(e,g){this.applyDynamicProperties();var C=this.getParent();var J="";if(C.getResizable()){var z=C.LC();var uc=z.indexOf(this);if(uc!=0&&z[uc-1].getResizable()||e&&z[z.length-1].getResizable())J="<span "+C.RX(jsx3.gui.Event.MOUSEDOWN,"DA")+" style=\"\" class=\"jsx30column_anchor\">&#160;</span>";}if(e){return "<td  unselectable=\"on\"  class=\"jsx30column_cell\" style=\"position:relative;padding:0px;\" width=\"*\" ><div style=\"white-space:nowrap;position:relative;height:100%;width:100%;padding:0px;\">"+J+"&#160;</div></td>";}else{var eb=this.RX(jsx3.gui.Event.MOUSEUP,"_4",0);if(C.getCanReorder())eb=eb+C.RX(jsx3.gui.Event.MOUSEDOWN,"Oh");else{if(C.getCanSort()!=0&&this.getCanSort()!=0)eb=eb+C.RX(jsx3.gui.Event.CLICK,"Aq");}var mb=g==null?"":"background-image:url("+(g==jsx3.gui.List.SORTASCENDING?n.At:n.Wo)+");background-repeat:no-repeat;background-position:99% center;";var cb=this.getWrap()?"":"overflow-x:hidden;white-space:nowrap;text-overflow:ellipsis;";var G=this.getVAlign()==n.VALIGNTOP?C.nV():"";return "<td cellindex=\""+this.getChildIndex()+"\" id=\""+this.getId()+"\" unselectable=\"on\" "+eb+this.OO()+" class=\"jsx30column_cell\" style=\"padding-left:0px;position:relative;"+this.I6(e)+this.UZ()+this.QP()+this.oY()+this.D6()+this.eQ()+this.paintCSSWidth()+this.g0()+mb+this.iN()+"\" "+this.vH()+"><div style=\""+G+cb+"position:relative;height:100%;width:100%;padding-left:4px;vertical-align:middle;\">"+J+"<div>"+this.AN()+"</div>"+"</div></td>";}};b.repaint=function(){this.getParent().resetXslCacheData();this.getParent().repaintHead();this.getParent().repaintBody();};b.I6=function(c){return !this.getCursor()||c?"cursor:default;":"cursor:"+this.getCursor()+";";};b.AN=function(){return this.getText()?this.getText():n.Jr;};b.OO=function(g){if(g)return " width=\"*\"";return " width=\""+(this.getWidth()?this.getWidth():n.DEFAULTWIDTH)+"\"";};b.paintCSSWidth=function(k){if(k)return "";var Bb=this.getWidth()?this.getWidth():n.DEFAULTWIDTH;if(!isNaN(Bb))Bb=Bb+"px";return "width:"+Bb+";";};b.CH=function(){return this.getClassName()?this.getClassName():jsx3.gui.Grid&&this.getParent() instanceof jsx3.gui.Grid?n.DEFAULTCELLCLASSGRID:n.DEFAULTCELLCLASSLIST;};b.getXSLString=function(l){return this.jsxxsl;};b.setXSLString=function(k){if(jsx3.util.strEmpty(k)){delete this.jsxxsl;}else{this.jsxxsl=k;}return this;};b.paintXSLString=function(h){var z=this.getPath()?"<xsl:value-of select=\""+this.getPath()+"\"/>":"";if(this.getParent().getWrap()==jsx3.Boolean.TRUE){var ob="";var J="";}else{var ob="<nobr>";var J="</nobr>";}if(h){return "<td style=\"position:relative;\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" unselectable=\"on\" width=\"*\" class=\""+this.CH()+"\">&#160;</td>";}else{if(jsx3.gui.Grid&&this.getParent() instanceof jsx3.gui.Grid){var G;var vc=(G=this.getEditMask())==null?"":" jsxmask=\""+G+"\" ";return "<td valign=\"top\" "+this.getParent().CI()+vc+this.OO()+this.RX(jsx3.gui.Event.FOCUS,"SU")+this.getParent().RX(jsx3.gui.Event.BLUR,"doBlurItem")+" style=\"position:relative;"+this.eQ()+";\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" unselectable=\"on\" "+" class=\""+this.CH()+"\">"+ob+this.GD()+J+"</td>";}else{return "<td"+this.OO()+" style=\"position:relative;"+this.eQ()+"\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" unselectable=\"on\""+" class=\""+this.CH()+"\">"+ob+this.GD()+J+"</td>";}}};b.SU=function(r,p){this.getParent().doFocusItem(p);};b.GD=function(){if(this.getXSLString()){var I=this.getPath();if(I)return this.getXSLString().doReplace("@path@",I);else return this.getXSLString();}else{var I=this.getPath();if(I)return n.Fw.doReplace("@path@",I);else return "";}};b.getCanSort=function(){return this.jsxsort==null?1:this.jsxsort;};b.setCanSort=function(q){this.jsxsort=q;return this;};b.getMaskProperties=function(){return jsx3.gui.Block.MASK_NO_EDIT;};n.getVersion=function(){return "3.0.00";};});jsx3.gui.Column.prototype.getResizeable=jsx3.gui.Column.prototype.getResizable;jsx3.gui.Column.prototype.setResizeable=jsx3.gui.Column.prototype.setResizable;jsx3.Column=jsx3.gui.Column;
