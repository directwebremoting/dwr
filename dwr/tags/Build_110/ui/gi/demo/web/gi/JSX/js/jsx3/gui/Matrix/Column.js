/*
 * Copyright (c) 2001-2007, TIBCO Software Inc.
 * Use, modification, and distribution subject to terms of license.
 */
jsx3.require("jsx3.gui.Block");jsx3.Class.defineClass("jsx3.gui.Matrix.Column",jsx3.gui.Block,null,function(o,c){var
ub={k:"<xsl:template xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\">\n  <xsl:if test=\"@jsxcellstyle\">\n    <xsl:attribute name=\"style\"><xsl:value-of select=\"@jsxcellstyle\"/></xsl:attribute>\n  </xsl:if>\n  <xsl:if test=\"{0} and not ({0} = '')\"><img style=\"position:relative;\"",O:"ascending",ea:"left",_:"font-size:",p:"@",P:");",q:"The following value template type is not supported: ",V:";",v:"_jsxgF",I:"mousedown",a:"text",F:"div",u:"object",U:"background-color:",j:"image",d:"default",z:"; fn;",S:'<colgroup style="',fa:"vertical-align:",D:"inline",w:"",K:"click",R:")",aa:"px;",g:'<xsl:template xmlns:xsl="http://www.w3.org/1999/XSL/Transform"></xsl:template>',B:"Error evaluating the format handler string: ",b:"number",Q:"url(",M:'class="jsx30matrixcolumn_value"',f:"empty",ga:"jsxautorow",y:"var fn = ",T:'"></colgroup>',ba:"font-weight:",x:"undefined",e:'<xsl:template xmlns:xsl="http://www.w3.org/1999/XSL/Transform">\n  <xsl:param name="jsx_row_number"/>\n  <xsl:if test="@jsxcellstyle">\n    <xsl:attribute name="style"><xsl:value-of select="@jsxcellstyle"/></xsl:attribute>\n  </xsl:if>\n  <xsl:value-of select="{0}"/>&#160;\n</xsl:template>',c:"top",h:"unescape",W:"{$jsx_rowbg}",H:'"',G:'id="',i:'<xsl:template xmlns:xsl="http://www.w3.org/1999/XSL/Transform">\n  <xsl:param name="jsx_row_number"/>\n  <xsl:if test="@jsxcellstyle">\n    <xsl:attribute name="style"><xsl:value-of select="@jsxcellstyle"/></xsl:attribute>\n  </xsl:if>\n  <xsl:value-of select="{0}" disable-output-escaping="yes"/>&#160;\n</xsl:template>',ca:"white-space:nowrap;overflow:hidden;",A:"There is a signature/type error when evaluating the format handler: ",t:"function",N:"background-image:url(",s:"jsxid",X:"color:",Z:"font-family:",o:"</xsl:template>",r:"<xsl:template",C:"100%",l:">\n",da:"text-align:",L:"nc",m:'    <xsl:attribute name="src"><xsl:apply-templates select="{0}" mode="uri-resolver"/></xsl:attribute>\n',Y:"cursor:",J:"Se",n:"  </img></xsl:if>\n",E:"td"};var
Ab=jsx3.util.Logger.getLogger(o.jsxclass.getName());var
Lb=jsx3.gui.Event;o.DEFAULT_WIDTH=100;o.TYPE_TEXT=ub.a;o.TYPE_NUMBER=ub.b;o.DEFAULT_VALIGN=ub.c;o.TEMPLATES={};o.TEMPLATES[ub.d]=ub.e;o.TEMPLATES[ub.f]=ub.g;o.TEMPLATES[ub.h]=ub.i;o.TEMPLATES[ub.j]=ub.k+jsx3.html.Kf+ub.l+ub.m+ub.n+ub.o;c.init=function(i){this.jsxsuper(i);};c.getValueTemplate=function(m){if(this.jsxvaluetemplate!=null)if(this.jsxvaluetemplate.charAt(0)==ub.p){var
ab=o.TEMPLATES[this.jsxvaluetemplate.substring(1)];if(ab){return ab;}else Ab.error(ub.q+this.jsxvaluetemplate);}else if(jsx3.util.strTrim(this.jsxvaluetemplate).indexOf(ub.r)==0)return this.jsxvaluetemplate;if(m!=null)return m;};c.setValueTemplate=function(f){this.jsxvaluetemplate=f;this.i5();};c.getResizable=function(){return this.jsxresize;};c.setResizable=function(b){this.jsxresize=b;this.mt();};c.getTriggers=function(){return this.jsxtriggers;};c.setTriggers=function(b){this.jsxtriggers=b;};c.getPath=function(){return this.jsxpath==null?ub.s:this.jsxpath;};c.setPath=function(d,f){this.jsxpath=d;this.i5();if(!f&&this.getParent())this.getParent().repaint();};c.getSortPath=function(){return this.jsxsortpath!=null?this.jsxsortpath:this.getPath();};c.setSortPath=function(i){this.jsxsortpath=i;};c.getDataType=function(){return this.jsxdatatype==null?ub.a:this.jsxdatatype;};c.setDataType=function(l){this.jsxdatatype=l;};c.getSortDataType=function(){return this.jsxsortdatatype==null?this.getDataType():this.jsxsortdatatype;};c.setSortDataType=function(p){this.jsxsortdatatype=p;};c.getCanSort=function(){return this.jsxsort;};c.setCanSort=function(q){this.jsxsort=q;this.mt();};c.setFormatHandler=function(b){if(typeof b==ub.t){this._jsxgF=new
jsx3.gui.Matrix.ColumnFormat();this._jsxgF.format=b;}else if(b&&typeof b==ub.u&&typeof b.format==ub.t){this._jsxgF=b;}else{delete this[ub.v];this.jsxformathandler=b!=null?b+ub.w:null;}};c.getFormatHandler=function(){return this.jsxformathandler;};c.Rm=function(){if(typeof this._jsxgF==ub.x)if(this.jsxformathandler){this._jsxgF=jsx3.gui.Matrix.ColumnFormat.getInstance(this.jsxformathandler,this);if(this._jsxgF==null)try{var
ab=this.eval(ub.y+this.jsxformathandler+ub.z);if(typeof ab==ub.u&&typeof ab.format==ub.t&&typeof ab.validate==ub.t){this._jsxgF=ab;}else if(typeof ab==ub.t){this._jsxgF=new
jsx3.gui.Matrix.ColumnFormat();this._jsxgF.format=ab;}else Ab.error(ub.A+this.jsxformathandler);}catch(Kb){Ab.error(ub.B+this.jsxformathandler,jsx3.NativeError.wrap(Kb));}}else this._jsxgF=null;return this._jsxgF;};c.Rc=function(h,e,j){var
Ca=this.Wl(true,h);var
Db=Ca.recalculate(h,null,j);var
ea=this.getParent();var
ca=Ca.lg(0);ca.recalculate({height:Ca.ec()},null,j);var
H=Ca.lg(1);var
ya={parentwidth:h.parentwidth};if(this.s5()){var
bb=ea.getRowHeight(jsx3.gui.Matrix.DEFAULT_ROW_HEIGHT);ya.height=bb?bb:jsx3.gui.Matrix.DEFAULT_ROW_HEIGHT;}H.recalculate(ya,null,j);if(this.s5()){var
Ea=H.lg(0);Ea.recalculate({height:H.ec()},null,j);}if(Db.w)ea.resetXslCacheData();return Db;};c.Gc=function(g){this.applyDynamicProperties();var
za=this.getParent();if(za&&(g==null||isNaN(g.parentwidth)||isNaN(g.parentheight))){g=za.uf(this);}else if(g==null)g={};g.width=ub.C;g.height=ub.C;g.boxtype=ub.D;g.tagname=ub.E;var
vb,fb;if((vb=this.getBorder())!=null&&vb!=ub.w)g.border=vb;if((fb=this.getPadding())!=null&&fb!=ub.w)g.padding=fb;var
O=new
jsx3.gui.Painted.Box(g);var
ib={};ib.height=O.ec();ib.boxtype=ub.D;ib.tagname=ub.F;var
Ba=new
jsx3.gui.Painted.Box(ib);O.Yf(Ba);var
G={};if(this.s5()){var
Jb=za.getRowHeight(jsx3.gui.Matrix.DEFAULT_ROW_HEIGHT);G.height=Jb?Jb:jsx3.gui.Matrix.DEFAULT_ROW_HEIGHT;}G.width=ub.C;G.boxtype=ub.D;G.tagname=ub.E;G.parentwidth=g.parentwidth;if((vb=this.getCellBorder())!=null&&vb!=ub.w)G.border=vb;if((fb=this.getCellPadding())!=null&&fb!=ub.w)G.padding=fb;var
qa=new
jsx3.gui.Painted.Box(G);O.Yf(qa);var
P={};if(this.s5())P.height=qa.ec();P.boxtype=ub.D;P.tagname=ub.F;var
Oa=new
jsx3.gui.Painted.Box(P);qa.Yf(Oa);return O;};c.s5=function(){var
ab=this.getParent();if(ab){if(ab.getPagingModel()==3)return true;return ab.getRowHeight()!=0;}return true;};c.paint=function(){this.applyDynamicProperties();var
N=this.getParent();var
Aa=this.Wl(true);Aa.setAttributes(ub.G+this.getId()+ub.H+jsx3.html.Kf+this.bn()+N.Gj(ub.I,ub.J)+N.Gj(ub.K,ub.L));Aa.setStyles(this.Xe()+this.zf()+this.Of()+this.eh()+this.Bf()+this.fn()+this.paintVAlign());var
cb=Aa.lg(0);cb.setAttributes(ub.M+jsx3.html.Kf);cb.setStyles(this.paintWrap()+this.ad()+this.Yh()+this.kz());return Aa.paint().join(cb.paint().join(this.wg()));};c.repaint=function(){this.mt();};c.kz=function(){if(this.getSortPath()==this.getParent().getSortPath())return ub.N+(this.getParent().getSortDirection()==ub.O?jsx3.gui.Matrix.SORT_ASCENDING_IMG:jsx3.gui.Matrix.SORT_DESCENDING_IMG)+ub.P;return ub.w;};c._applySortIcon=function(j){this.getRendered().childNodes[0].style.backgroundImage=j?ub.Q+(this.getParent().getSortDirection()==ub.O?jsx3.gui.Matrix.SORT_ASCENDING_IMG:jsx3.gui.Matrix.SORT_DESCENDING_IMG)+ub.R:ub.w;};c.LV=function(){return ub.S+this.ag()+ub.T;};c.setWidth=function(i,g){this.jsxwidth=i;var
O=this.getParent();if(O)O.af(O.getParent().uf(O),g);};c.setDisplay=function(h,s){this.jsxdisplay=h;var
Ga=this.getParent();if(Ga){Ga.nj();if(s)Ga.repaint();}return this;};c.getDisplayIndex=function(){var
z=this.getParent();if(z){var
Ta=z.Xi();for(var
Qa=0;Qa<Ta.length;Qa++)if(Ta[Qa]==this)return Qa;}};c.ag=function(){return this.getCellBackgroundColor()?ub.U+this.getCellBackgroundColor()+ub.V:ub.W;};c.cd=function(){return this.getCellBorder()?this.getCellBorder()+ub.V:ub.w;};c.Uc=function(){return this.getCellColor()?ub.X+this.getCellColor()+ub.V:ub.V;};c.eo=function(){return this.getCellCursor()?ub.Y+this.getCellCursor()+ub.V:ub.w;};c.Jk=function(){if(!this.getCellFontName())return ub.w;return ub.Z+(this.getCellFontName()?this.getCellFontName():jsx3.gui.Block.DEFAULTFONTNAME)+ub.V;};c.Mc=function(){if(!this.getCellFontSize())return ub.w;return ub._+(this.getCellFontSize()?this.getCellFontSize():jsx3.gui.Block.DEFAULTFONTSIZE)+ub.aa;};c.sd=function(){return this.getCellFontWeight()?ub.ba+this.getCellFontWeight()+ub.V:ub.w;};c.paintWrap=function(){return this.getWrap(0)==0?ub.ca:ub.w;};c.yo=function(){return this.getCellWrap(0)==0?ub.ca:ub.w;};c.tf=function(){return ub.da+(this.getCellTextAlign()?this.getCellTextAlign():ub.ea)+ub.V;};c.paintVAlign=function(){return ub.fa+(this.getVAlign()?this.getVAlign():ub.c)+ub.V;};c.Sd=function(){return ub.fa+(this.getCellVAlign()?this.getCellVAlign():ub.c)+ub.V;};c.getCellBackgroundColor=function(){return this.jsxcellbgcolor;};c.setCellBackgroundColor=function(n){this.jsxcellbgcolor=n;this.i5();};c.getCellBorder=function(){return this.jsxcellborder;};c.setCellBorder=function(s,r){this.jsxcellborder=s;this.i5();if(!r&&this.getParent())this.getParent().repaint();};c.getCellColor=function(){return this.jsxcellcolor;};c.setCellColor=function(e){this.jsxcellcolor=e;this.i5();};c.getCellCursor=function(){return this.jsxcellcursor;};c.setCellCursor=function(s){this.jsxcellcursor=s;this.i5();};c.getCellFontName=function(){return this.jsxcellfontname;};c.setCellFontName=function(l){this.jsxcellfontname=l;this.i5();};c.getCellFontSize=function(){return this.jsxcellfontsize;};c.setCellFontSize=function(n){this.jsxcellfontsize=n;this.i5();};c.getCellFontWeight=function(){return this.jsxcellfontweight;};c.setCellFontWeight=function(g){this.jsxcellfontweight=g;this.i5();};c.getCellPadding=function(){return this.jsxcellpadding;};c.setCellPadding=function(b,p){this.jsxcellpadding=b;this.i5();if(!p&&this.getParent())this.getParent().repaint();};c.getCellTextAlign=function(){return this.jsxcelltextalign;};c.setCellTextAlign=function(p){this.jsxcelltextalign=p;this.i5();};c.getCellVAlign=function(){return this.jsxcellvalign;};c.setCellVAlign=function(e){this.jsxcellvalign=e;this.i5();};c.getCellWrap=function(q){return this.jsxcellwrap!=null?this.jsxcellwrap:q!=null?q:null;};c.setCellWrap=function(e){this.jsxcellwrap=e;this.i5();};c.setBorder=function(r){this.jsxborder=r;this.ki();this.mt();};c.setPadding=function(f){this.jsxpadding=f;this.ki();this.mt();};c.getWrap=function(r){return this.jsxwrap!=null?this.jsxwrap:r!=null?r:null;};c.setWrap=function(l){this.jsxwrap=l;this.mt();};c.getVAlign=function(){return this.jsxvalign;};c.setVAlign=function(h){this.jsxvalign=h;this.mt();};c.setText=function(e,h){this.jsxtext=e;var
Ib;if(h&&(Ib=this.getRendered())!=null)Ib.childNodes[0].innerHTML=e;return this;};c.getEditMask=function(){return this.getChild(0);};c.getEditMasks=function(){return this.getChildren();};c.getValueForRecord=function(m){var
_a=this.getParent().getRecordNode(m);if(_a)return _a.getAttribute(this.getPath());else if(m==ub.ga)return this.getParent().getAutoRowSession()[this.getPath()];};c.setValueForRecord=function(q,i){var
P=this.getParent().getRecordNode(q);if(P)P.setAttribute(this.getPath(),i);else if(q==ub.ga)this.getParent().getAutoRowSession()[this.getPath()]=i;};c.onSetParent=function(j){return jsx3.gui.Matrix&&j instanceof jsx3.gui.Matrix;};c.i5=function(){var
db=this.getParent();if(db)db.nj();};c.mt=function(){var
ea=this.getParent();if(ea)ea.repaintHead();};});jsx3.gui.MatrixColumn=jsx3.gui.Matrix.Column;
